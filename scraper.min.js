javascript:(function(){let a=document.URL,b=new URL(a);const c=b.searchParams.get("query").replace(" ","_"),d=b.searchParams.get("startDate"),e=b.searchParams.get("endDate"),f=c+"_"+d+"_to_"+e+".csv";let g=/\d+/g;const h=+document.querySelector("p[class='SearchForm-searchStatus--2Z3Tw']").textContent.match(g).join("");console.log(`[SEARCH] ${h} results found for query ${c} `+`in date range ${d} to ${e}`);const k="^";var l="",m={};if(document.querySelector("div[class='Search-showMore--Plid0']"))var o=0,p=setInterval(function(){if(document.querySelector("div[class='Search-showMore--Plid0']"))document.querySelector("div[class='Search-showMore--Plid0']").querySelector("button[type='button']").click(),o+=1,console.log(`[RENDERING] Click counter: ${o}`);else{clearInterval(p),console.log(`[PARSING] All content rendered, parsing...`);var t=document.querySelector("div[class='SearchResults-main--3t9sI']").querySelector("ol").children;for(let z=0;z<t.length;z++)"Advertisement"!=t[z].querySelector("div").textContent&&(m[z]={date:t[z].querySelector("time").textContent,tag:t[z].querySelector("p[class='Item-section--1T6pp']").textContent,headline:t[z].querySelector("h4[class='Item-headline--3WqlT']").textContent,summary:t[z].querySelector("p[class='Item-summary--3nKWX']").textContent});let w=Object.keys(m).length,x=Object.keys(m[0]),y=Object.keys(m);console.log(`[SAVE] Saving ${w}/${h} parsed results`),x.forEach(function(z){l+=z+k}),l=l.substring(0,l.length-1),l+="\r\n";for(let A,z=0;z<w;z++){A="";for(let B=0;B<x.length;B++)A+=m[y[z]][x[B]]+""+k;A=A.substring(0,A.length-1),l+=A+"\r\n"}var u=new Blob(["\uFEFF",l],{type:"text/csv;charset=utf-8;"}),v=document.createElement("a");v.href=URL.createObjectURL(u),v.target="_blank",v.download=f,v.click()}},750);else{console.log(`[PARSING] All content already rendered, parsing...`);var q=document.querySelector("div[class='SearchResults-main--3t9sI']").querySelector("ol").children;for(let w=0;w<q.length;w++)"Advertisement"!=q[w].querySelector("div").textContent&&(m[w]={date:q[w].querySelector("time").textContent,tag:q[w].querySelector("p[class='Item-section--1T6pp']").textContent,headline:q[w].querySelector("h4[class='Item-headline--3WqlT']").textContent,summary:q[w].querySelector("p[class='Item-summary--3nKWX']").textContent});let t=Object.keys(m).length,u=Object.keys(m[0]),v=Object.keys(m);console.log(`[SAVE] Saving ${t}/${h} parsed results`),u.forEach(function(w){l+=w+k}),l=l.substring(0,l.length-1),l+="\r\n";for(let x,w=0;w<t;w++){x="";for(let y=0;y<u.length;y++)x+=m[v[w]][u[y]]+""+k;x=x.substring(0,x.length-1),l+=x+"\r\n"}var r=new Blob(["\uFEFF",l],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a");s.href=URL.createObjectURL(r),s.target="_blank",s.download=f,s.click()}})();